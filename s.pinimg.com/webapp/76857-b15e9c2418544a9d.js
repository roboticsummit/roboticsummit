(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[76857],{182666:function(e){e.exports="https://s.pinimg.com/webapp/btn_base-3772d107.png"},191280:function(e,t,o){"use strict";o.d(t,{Z:function(){return S}});var n=o(76911),i=o(48676),r=o(721809),s=o(898781),a=o(83969),l=o(908390),c=o(515198);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var n,i,r=[],s=!0,a=!1;try{for(o=o.call(e);!(s=(n=o.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==o.return||o.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function p(){var e=(0,s.ZP)(),t=u((0,n.useState)(),2),o=t[0],i=t[1];return(0,c.jsxs)(l.xu,{position:"relative",children:[(0,c.jsx)(l.iP,{onTap:function(){return i(!0)},children:(0,c.jsxs)(l.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"lightGray",children:[(0,c.jsx)(l.xu,{height:24,width:24,marginTop:1,children:(0,c.jsx)(a.av,{size:20})}),(0,c.jsx)(l.xu,{marginStart:2,children:(0,c.jsx)(l.xv,{weight:"bold",children:e._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),o&&(0,c.jsx)(r.Z,{type:"google",onDismiss:function(){return i(!1)}})]})}var h=o(261926),f=o(217468),g=o(867820);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_(Object(o),!0).forEach((function(t){T(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=P(e);if(t){var i=P(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return k(this,o)}}function k(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,e);var t,o,i,r=w(s);function s(){var e;m(this,s);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return T(j(e=r.call.apply(r,[this].concat(o))),"gsiButtonRef",(0,n.createRef)()),T(j(e),"gsiSecondHomepageButtonRef",(0,n.createRef)()),e}return t=s,(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.browserType,o=e.isAuthenticated,n=e.isGoogleOneTapDisabled,i=e.isGoogleOneTapInitialized,r=e.platform;n||o||!i?((0,a.b1)(this.gsiButtonRef,this.logGSIButton.bind(this),this.handleCredentialResponse.bind(this),"ios"===r&&(2===t||1===t)),o||i||(0,g.My)("mweb.gsi_button_fix.load_and_initialize_gsi_script")):(0,a.ru)(this.gsiButtonRef,this.logGSIButton.bind(this))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.browserType,o=e.isGoogleOneTapDisabled,n=e.isGoogleOneTapInitialized,i=e.showSecondGoogleButton,r=e.platform;n?(0,a.ru)(i?this.gsiSecondHomepageButtonRef:this.gsiButtonRef,this.logGSIButton.bind(this)):o&&(0,a.b1)(i?this.gsiSecondHomepageButtonRef:this.gsiButtonRef,this.logGSIButton.bind(this),this.handleCredentialResponse.bind(this),"ios"===r&&(2===t||1===t))}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,o=t.isGoogleOneTapDisabled,n=t.isGoogleOneTapInitialized,i=t.showSecondGoogleButton;return!n&&!!e.isGoogleOneTapInitialized||!o&&!!e.isGoogleOneTapDisabled||!!i}},{key:"handleCredentialResponse",value:function(e){var t=e.credential;this.logGSIButton("select_by.".concat(e.select_by)),(0,g.NC)("press_google_connect_button");var o={google_open_id_token:t,autologin:!1},n=(0,h.TD)(t),i={google_open_id_token:t,first_name:n.given_name,last_name:n.family_name,image_url:n.picture};this.props.onGoogleConnectSuccess(o,i)}},{key:"logGSIButton",value:function(e){(0,g.My)("unauth_mweb.gsi_button."+e)}},{key:"render",value:function(){var e=this.props.showSecondGoogleButton;return(0,c.jsx)(l.xu,{position:"relative",children:(0,c.jsx)(l.iP,{onTap:function(){return(0,g.My)("gsi_personalized_button.tap")},children:(0,c.jsx)(l.xu,{height:44,children:e?(0,c.jsx)(l.xu,{ref:this.gsiSecondHomepageButtonRef,position:"absolute",width:"100%"}):(0,c.jsx)(l.xu,{ref:this.gsiButtonRef,position:"absolute",width:"100%"})})})})}}])&&v(t.prototype,o),i&&v(t,i),s}(n.Component);function S(e){var t=(0,i.useSelector)((function(e){var t=e.session;return{isGoogleOneTapInitialized:t.isGoogleOneTapInitialized,isGoogleOneTapDisabled:t.isGoogleOneTapDisabled,browserType:t.browserType,platform:t.userAgentPlatform}})),o=t.isGoogleOneTapInitialized,n=t.isGoogleOneTapDisabled,r=t.browserType,s=t.platform;return(0,f.aq)("mweb_google_disabled").anyEnabled?(0,c.jsx)(p,{}):(0,c.jsx)(O,y(y({},e),{},{isGoogleOneTapInitialized:o,isGoogleOneTapDisabled:n,browserType:r,platform:s}))}},721809:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});var n=o(121151),i=o(898781),r=o(908390),s=o(515198);function a(e){var t=e.type,o=e.onDismiss,a=(0,i.ZP)(),l="facebook"===t?a._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):a._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),c="facebook"===t?a._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):a._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,s.jsx)(n.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:!0,onDismiss:o,type:"social_auth_disabled_modal",children:(0,s.jsxs)(r.xu,{padding:5,children:[(0,s.jsx)(r.xu,{marginBottom:3,children:(0,s.jsx)(r.X6,{size:"500",accessibilityLevel:1,children:l})}),(0,s.jsx)(r.xu,{marginBottom:3,children:(0,s.jsx)(r.xv,{children:c})}),(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,s.jsx)(r.xu,{paddingY:1,children:(0,s.jsx)(r.zx,{accessibilityLabel:a._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),size:"lg",color:"red",text:a._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),onClick:o})})})]})})}},276881:function(e,t,o){"use strict";o.d(t,{Z:function(){return he}});var n=o(76911),i=o(48676),r=o(721809),s=o(867820),a=o(217468),l=o(898781),c=o(467570),u=o(908390),d=o(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){w(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=x(e);if(t){var i=x(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return m(this,o)}}function m(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var k={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#1877F2",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",minWidth:"240px",borderRadius:"20px",padding:"0px 0px 0px 8px"},roundedButton:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF",border:"none",height:"48px",transition:"opacity .2s linear",width:"48px",marginBottom:"8px",borderRadius:"50%"},buttonText:{fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"8px",letterSpacing:"0.25px"}},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,o,n,i=y(a);function a(){var e;g(this,a);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return w(v(e=i.call.apply(i,[this].concat(o))),"state",{fbReady:!1,showSocialAuthDisabledModal:!1}),w(v(e),"connectCallback",(function(t){var o=t.creds,n=t.data;e.props.onFacebookConnectSuccess(o,n)})),w(v(e),"handleConnectClick",(function(){(0,s.My)("unauth_mweb.facebook_connect.button_click");var t=e.props,o=t.onTouch,n=t.mwebFacebookDisabled;o&&o(),n?e.setState({showSocialAuthDisabledModal:!0}):e.state.fbReady&&(0,c.JF)().then(e.connectCallback,e.props.onFacebookConnectError)})),w(v(e),"renderRoundButton",(function(){return(0,d.jsxs)(u.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,d.jsx)("button",{onClick:e.handleConnectClick,style:k.roundedButton,type:"button",children:(0,d.jsx)(u.JO,{accessibilityLabel:e.props.i18n._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),color:"shopping",icon:"facebook",inline:!0,size:20})}),(0,d.jsx)(u.xv,{color:"inverse",size:"200",children:e.props.i18n._('Facebook', 'Facebook company name', 'Facebook company name')})]})})),e}return t=a,(o=[{key:"componentDidMount",value:function(){var e=this;this.props.mwebFacebookDisabled||((0,c.we)(this.props.locale).then((function(){e.setState({fbReady:!0})})),window.addEventListener("message",this.handleMessageEvent,!1))}},{key:"handleMessageEvent",value:function(e){(0,c.s0)(e,(function(e){return(0,s.My)("unauth_mweb.".concat(e))}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessageEvent)}},{key:"renderPersonalizedButton",value:function(){var e=this,t=this.props.isRerequest,o="".concat(this.props.type||"continue","_with"),n="rounded",i=this.props.fbUseContinueAs?"true":"false";return(0,d.jsxs)(u.xu,{bottom:!0,left:!0,right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",rounding:5,children:[t?(0,d.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":o,"data-layout":n,"data-show-faces":"false","data-auth-type":"rerequest","data-scope":c.$.join(","),"data-auto-logout-link":"false","data-use-continue-as":i}):(0,d.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":o,"data-layout":n,"data-show-faces":"false","data-scope":c.$.join(","),"data-auto-logout-link":"false","data-use-continue-as":i}),this.state.showSocialAuthDisabledModal&&(0,d.jsx)(r.Z,{type:"facebook",onDismiss:function(){return e.setState({showSocialAuthDisabledModal:!1})}})]})}},{key:"render",value:function(){var e=this;return this.props.isRounded?this.renderRoundButton():(0,d.jsxs)(u.xu,{position:"relative","data-test-id":"FacebookConnectContainer",children:[this.renderPersonalizedButton(),(0,d.jsxs)("button",{onClick:this.handleConnectClick,style:k.defaultButton,type:"button","data-test-id":"FacebookConnectButton",children:[(0,d.jsx)(u.xu,{color:"white",rounding:3,dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px",marginLeft:"4px",marginRight:"4.4px"}},children:(0,d.jsx)(u.JO,{accessibilityLabel:this.props.i18n._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,d.jsx)(u.xu,{alignItems:"center",display:"flex",justifyContent:"center",flex:"grow",marginEnd:1,children:(0,d.jsx)("span",{style:k.buttonText,children:this.props.buttonText})})]}),this.state.showSocialAuthDisabledModal&&(0,d.jsx)(r.Z,{type:"facebook",onDismiss:function(){return e.setState({showSocialAuthDisabledModal:!1})}})]})}}])&&b(t.prototype,o),n&&b(t,n),a}(n.Component);function P(e){var t=(0,l.ZP)(),o=(0,i.useSelector)((function(e){return e.session})).locale,n=(0,a.aq)("mweb_facebook_disabled").anyEnabled;return(0,d.jsx)(j,f(f({},e),{},{i18n:t,locale:o,mwebFacebookDisabled:n}))}var T=o(7111),O=o(191280),S=o(30700),A=o(176532),C=o(160585),L=o(182666),E=o.n(L),z=o(966113),B=o(829407),R=o(826067),D=o(780280),F=o(957161),I={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#00C300",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",borderRadius:"20px",padding:"0px 0px 0px 8px"},lineLogo:{borderRadius:"12px",backgroundColor:"#00C300",width:"32px",height:"32px"},buttonText:{fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"33px"}},G=function(e){var t,o=e.buttonText,n=e.onLineConnectSuccess,i=e.onLineConnectError,r=e.onTouch,c=(0,l.ZP)(),p=(0,a.tc)("mweb_line_oauth_jp")().anyEnabled,h=(0,a.tc)("mweb_line_oauth_jp_android")().anyEnabled,f=p||h,g=(0,C.Z)(10),b=(0,D.B)().locale,_=function(e){var o=(0,R.mB)(e);if(o.state&&o.code&&o.state===g){t&&!t.closed&&t.close();var r="".concat(window.location.origin,"/oauth/line/redirect");(0,A.Z)({url:"/oauth/line/verify",type:"POST",data:{code:o.code,redirect_uri:r}}).promise.then((function(e){var t=e.ok,o=e.responseText;if(t&&o){var r=JSON.parse(o),s=r.id_token,a=r.access_token;s&&a&&n({line_id_token:s,line_access_token:a},{line_id_token:s,line_access_token:a})}else i()}))}},y=function(e){e.isTrusted&&e.origin===window.location.origin&&e.data&&_(String(e.data))},m=function(e){if(e.isTrusted&&e.url.startsWith(window.location.origin)&&"lineOAuthOneTimeCode"===e.key){var t=(0,F.qn)("lineOAuthOneTimeCode");t&&_(t)}};(0,B.Z)((function(){return function(){window.removeEventListener("message",y),window.removeEventListener("storage",m),(0,F.L_)("lineOAuthOneTimeCode"),t&&!t.closed&&t.close()}}));var v=I.defaultButton;return f?(0,d.jsx)(u.xu,{position:"relative","data-test-id":"LineConnectContainer",children:(0,d.jsxs)("button",{onClick:function(){(0,s.My)("unauth_mweb.line_connect.button_click"),r&&r();var e="".concat(window.location.origin,"/oauth/line/redirect");window.addEventListener("message",y,!1),window.addEventListener("storage",m),t=window.open("https://access.line.me/oauth2/v2.1/authorize?response_type=code"+"&client_id=".concat(z.Z.settings.LINE_CLIENT_ID)+"&redirect_uri=".concat(encodeURIComponent(e))+"&state=".concat(g)+"&ui_locales=".concat(b)+"&scope=profile%20openid%20email","_blank")},style:v,type:"button","data-test-id":"line-connect-button",children:[(0,d.jsx)("img",{style:I.lineLogo,src:E(),alt:c._('line', 'accessible label for line icon', 'accessible label for line icon')}),(0,d.jsx)(u.kC,{alignItems:"center",justifyContent:"center",flex:"grow",children:(0,d.jsx)("span",{style:I.buttonText,children:o})})]})}):null},M=o(499128),Z=o(50286),U=o(738759),N=o(400660),H=o(967053),W=o(760547),q=o(185894),Y=o(597897),K=o(693099),J=o(584595),$=o(45169),V=o(169347),X=o(266725),Q=o(937666),ee=o(343341);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function ne(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(o),!0).forEach((function(t){de(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):oe(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=ue(e);if(t){var i=ue(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return le(this,o)}}function le(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(a,e);var t,o,i,r=ae(a);function a(){var e;ie(this,a);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return de(ce(e=r.call.apply(r,[this].concat(o))),"state",{isLoading:!1,showRegisterLoading:!1,signupPlatform:"default"}),de(ce(e),"onRegisterSuccess",(function(t){var o=e.props.next;e.trackSignupLoginEvent(7487,t),(0,s.NC)("signup_via_login_buttons"),["facebook","google"].includes(t)&&(o&&e.props.history.push(o),e.props.history.push("/")),e.setState({showRegisterLoading:!1})})),de(ce(e),"onRegisterFailure",(function(t,o){e.trackSignupLoginEvent(7488,o),e.props.showToast((function(o){var n=o.hideToast;return(0,d.jsx)(M.ZP,{text:t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'Error logging on', 'Error logging on'),onHide:n})})),e.setState({isLoading:!1,showRegisterLoading:!1})})),de(ce(e),"handlePostLoginRegistration",(function(t,o){var n=e.props,i=n.beforeRegister,r=n.isSignupConfirmationExpEnabled;i&&r().anyEnabled?i(t,o):o()})),de(ce(e),"onLoginError",(function(t,o,n,i){e.setState({isLoading:!1}),!o||o.apiErrorCode!==J.xN&&o.apiErrorCode!==J.lg&&o.apiErrorCode!==J.Pv?o?((0,s.My)("mweb_login_button_skip_register.api_error_code.".concat(o.apiErrorCode)),e.props.showToast((function(t){var n=t.hideToast;return(0,d.jsx)(M.ZP,{text:o.apiErrorCode&&o.message?o.message:e.props.i18n._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.'),onHide:n})}))):((0,s.My)("unauth_mweb.login.unexpected_error"),e.props.showToast((function(t){var o=t.hideToast;return(0,d.jsx)(M.ZP,{text:e.props.i18n._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.'),onHide:o})}))):"line"===i||n.email||n.gplus_id_token?"line"===i?o.apiErrorCode===J.Pv?e.redirectToLineEmailCollect(n):e.registerAfterLoginError(t,o,n,i):e.handlePostLoginRegistration(n.email||"",(function(){return e.registerAfterLoginError(t,o,n,i)})):(0,c.uP)("email").then((function(r){var a=r.hasPerm;e.handlePostLoginRegistration("",(function(){return e.redirectToEmailCollect(n,t,o,i)})),(0,s.My)("unauth_mweb.reg_via_fb.has_email_perm.".concat(String(!!a)))})).catch((function(r){e.handlePostLoginRegistration("",(function(){return e.registerAfterLoginError(t,o,n,i)}))}))})),de(ce(e),"getAuxDataSignupLoginMethod",(function(e){switch(e){case"facebook":return 2;case"google":return 3;case"line":return 8;default:return}})),de(ce(e),"getViewParameterType",(function(e){switch(e){case"facebook":return 3205;case"google":return 3204;case"line":return 3556;default:return}})),de(ce(e),"trackSignupLoginEvent",(function(t,o){var n=e.props,i=n.isAuthenticated,r=n.isLimitedLoginUser;(0,X.j)({event_type:t,view_type:10,view_parameter:e.getViewParameterType(o),aux_data:ne(ne({},i?{login_state:r?2:1}:{}),{},{signup_login_method:e.getAuxDataSignupLoginMethod(o)})})})),de(ce(e),"trackButtonTap",(function(t){var o=e.props,n=o.isAuthenticated,i=o.isLimitedLoginUser,r=o.viewParameter;(0,X.So)({view_type:10,view_parameter:r,element:t,aux_data:ne({},n?{login_state:i?2:1}:{})})})),de(ce(e),"registerAfterLoginError",(function(t,o,n,i){var r=e.props,a=r.activateObligatoryAgeExp,l=r.flushExp;(0,s.My)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,s.My)("unauth_mweb.facebook_signup_attempt.nogender"),e.includeAgeStep(i,n)&&("line"!==i||a().anyEnabled)?(l(),e.props.history.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===i?ne(ne({},n),{},{email_source_site:$.E_.FACEBOOK}):n,signupPlatform:i}})):("facebook"===i&&n.birthday&&(n.birthday=String((0,V.r)(n.birthday||""))),e.setState({isLoading:!0,showRegisterLoading:!0,signupPlatform:i}),e.trackSignupLoginEvent(7537,i),e.props.register("facebook"===i?ne(ne({},n),{},{email_source_site:$.E_.FACEBOOK,birthday_source_site:$.E_.FACEBOOK}):n).then((function(t){return e.onRegisterSuccess(i)}),(function(t){return e.onRegisterFailure(t,i)})))})),de(ce(e),"redirectToEmailCollect",(function(t,o,n,i){var r=e.props.country;e.props.history.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:t,isGDPREUCountry:(0,$.NN)(r),country:r,includeAgeStep:e.includeAgeStep("facebook",t)}})})),de(ce(e),"redirectToLineEmailCollect",(function(t){e.props.history.push({pathname:"/signup/line-email-collect/",state:{signupOptions:t}})})),de(ce(e),"includeAgeStep",(function(t,o){var n=e.props,i=n.country,r=n.activateObligatoryAgeExp,s=n.flushExp,a="facebook"!==t||!o.birthday,l=(0,$.NN)(i),c=K.rT.includes(i),u=K.ZR.has(i),d=l||c||u||r().anyEnabled;return s(),d&&(a||!(0,V.h)(o.birthday||"",18))})),de(ce(e),"handleFacebookError",(function(){var t=e.props.fbConnectHandler;t&&t("error"),e.props.showToast((function(t){var o=t.hideToast;return(0,d.jsx)(M.ZP,{text:e.props.i18n._('Unable to connect to Facebook', 'Error logging on with Facebook', 'Error logging on with Facebook'),onHide:o})}))})),de(ce(e),"handleLineError",(function(){e.props.showToast((function(t){var o=t.hideToast;return(0,d.jsx)(M.ZP,{text:e.props.i18n._('Unable to connect to Line', 'Error logging on with Line', 'Error logging on with Line'),onHide:o})}))})),de(ce(e),"handleSignupTouch",(function(t){var o=t.event,n=e.props,i=n.from,r=n.history,a=n.isBusiness,l=n.next,c=n.onSignupTouch,u=n.setLoginSignupFrom,d=n.location,p=n.isRedirectToNextParamAfterSignup;o&&(o.stopPropagation(),o.preventDefault()),(0,s.NC)("press_email_signup"),(0,s.LW)({action:"click",pageLocation:d,item:"email-signup-button"}),c&&c(),i&&u(i),e.trackButtonTap(31),r.push({pathname:a?"/business/signup/step1/":"/signup/step1/",search:d.search,state:{next:l,isRedirectToNextParamAfterSignup:p}})})),de(ce(e),"handleLoginTouch",(function(t){var o=t.event,n=e.props,i=n.isBusiness,r=n.footerCTA,a=n.from,l=n.history,c=n.next,u=n.onLoginTouch,d=n.location,p=n.isRedirectToNextParamAfterSignup;o.stopPropagation(),o.preventDefault(),u&&u(),a&&e.props.setLoginSignupFrom(a),(0,s.LW)({action:"click",pageLocation:d,item:"login-button"}),e.trackButtonTap(30);var h=r||"button";(0,s.My)("unauth_mweb.login_buttons.footer.".concat(h)),(0,s.NC)("press_login"),l.push({pathname:i?"/business/login/":"/login/",search:d.search,state:{next:c,isRedirectToNextParamAfterSignup:p}})})),de(ce(e),"handleGoogleTouch",(function(){var t=e.props,o=t.onGoogleTouch,n=t.location;o&&o(),(0,s.LW)({action:"click",pageLocation:n,item:"continue-google-button"}),e.trackButtonTap(208)})),de(ce(e),"handleFacebookTouch",(function(){var t=e.props,o=t.onFacebookTouch,n=t.location;o&&o(),(0,s.LW)({action:"click",pageLocation:n,item:"continue-facebook-button"}),e.trackButtonTap(68)})),de(ce(e),"handleLineTouch",(function(){e.trackButtonTap(12277),(0,s.LW)({action:"click",pageLocation:e.props.location,item:"continue-line-button"})})),de(ce(e),"login",(function(t){return function(o,n){var i=e.props,r=i.fbConnectHandler,a=i.history,l=i.login,c=i.next,u=i.location,d=i.noImmediateRedirect,p="google"===t?"gsi_btn":"other",h=u.state&&u.state.switch_account?{switchAccount:!0,trigger:p}:{noImmediateRedirect:d,trigger:p};"facebook"===t&&r&&r("success"),(0,s.NC)(t+"_login_success"),e.trackSignupLoginEvent(7534,t),l(o,a,c,h).then((function(){e.trackSignupLoginEvent(7536,t)})).catch((function(i){e.trackSignupLoginEvent(7535,t),e.onLoginError(o,i,n,t)})),e.setState({isLoading:!0,showRegisterLoading:!1,signupPlatform:t})}})),de(ce(e),"renderRegularButtons",(function(){var t=e.props,o=t.isBusiness,i=t.locale,r=t.googleText,s=t.facebookText,a=t.lineText,l=t.showEmailButton,c=t.fbButtonType,p=t.isRerequest,h=t.isAuthenticated,f=t.showEmailButtonAsSecondary,g=t.showSecondGoogleButton,b=e.props.i18n._('Continue with email', 'Sign up button', 'Sign up button'),_=2;return o&&(b=e.props.i18n._('Create account', 'Button text for creating a business account', 'Button text for creating a business account'),_=-2),(0,d.jsxs)(n.Fragment,{children:[l&&(0,d.jsx)(u.xu,{"data-test-id":"continue-email-button",marginBottom:_,children:(0,d.jsx)(u.zx,{fullWidth:!0,color:f?"gray":"red",text:b,onClick:e.handleSignupTouch})}),s&&(0,d.jsx)(u.xu,{marginBottom:2,"data-test-id":"continue-facebook-button",children:(0,d.jsx)(P,{buttonText:s,locale:i,onFacebookConnectError:e.handleFacebookError,onFacebookConnectSuccess:e.login("facebook"),type:c,fbUseContinueAs:e.props.fbUseContinueAs,onTouch:e.handleFacebookTouch,isRerequest:p})}),r&&(0,d.jsx)(u.xu,{marginBottom:2,"data-test-id":"continue-google-button",children:(0,d.jsx)(O.Z,{buttonText:r,isAuthenticated:h,showSecondGoogleButton:g,onGoogleConnectSuccess:e.login("google"),onTouch:e.handleGoogleTouch})}),a&&(0,d.jsx)(u.xu,{marginBottom:2,"data-test-id":"continue-line-button",children:(0,d.jsx)(G,{buttonText:a,onLineConnectError:e.handleLineError,onLineConnectSuccess:e.login("line"),onTouch:e.handleLineTouch})})]})})),e}return t=a,(o=[{key:"renderFooterCTA",value:function(){var e=this,t=this.props,o=t.footerCTA,n=t.increasedSpaceBelow,i=t.isMobileHomepage,r=t.removeLoginContainerPaddingY,s=t.textIsDark;return"member_link"===o?(0,d.jsx)(u.xu,{marginTop:-4,"data-test-id":"login-member",children:(0,d.jsx)(S.Z,{pressState:"none",onTouch:function(t){return e.handleLoginTouch({event:t})},children:(0,d.jsx)(u.xu,{paddingY:r?0:4,marginBottom:n?-1:-2,children:(0,d.jsx)(u.xv,{align:"center",size:"200",weight:"bold",color:i&&!s?"light":"dark",children:this.props.i18n._('Already a member? Log in', 'Link on mobile web sign up modal to direct unauth users to the login page', 'Link on mobile web sign up modal to direct unauth users to the login page')})})})}):"not_you_link"===o?(0,d.jsx)(u.xu,{marginTop:-3,"data-test-id":"LoginButtonsNotYoucontainer",children:(0,d.jsx)(S.Z,{pressState:"none",onTouch:function(t){return e.handleLoginTouch({event:t})},children:(0,d.jsxs)(u.xv,{size:"200",inline:!0,color:"default",children:[this.props.i18n._('Not you? ', 'Text for if the user is shown the wrong Facebook profile image for their account', 'Text for if the user is shown the wrong Facebook profile image for their account'),(0,d.jsx)(u.xv,{color:"default",inline:!0,size:"200",weight:"bold",children:this.props.i18n._('Log in as a different user.', 'Clickable text that takes the user to the login page', 'Clickable text that takes the user to the login page')})]})})}):(0,d.jsx)(u.xu,{marginBottom:5,"data-test-id":"login-button",children:(0,d.jsx)(u.zx,{fullWidth:!0,color:"transparent",onClick:this.handleLoginTouch,text:this.props.i18n._('Log in', 'Login page button', 'Login page button')})})}},{key:"renderRoundedButtons",value:function(){var e=this.props,t=e.locale,o=e.fbButtonType,n=e.isRerequest;return(0,d.jsxs)(u.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,d.jsx)(u.xu,{marginBottom:4,children:(0,d.jsx)(u.xv,{align:"center",color:"inverse",size:"200",children:this.props.i18n._('Sign up to get started', 'Sign up CTA', 'Sign up CTA')})}),(0,d.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,d.jsxs)(u.xu,{"data-test-id":"signup-button",rounding:"circle",display:"flex",direction:"column",alignItems:"center",marginBottom:4,marginEnd:4,children:[(0,d.jsx)("button",{onClick:this.handleSignupTouch,style:{border:"none",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF",height:"48px",width:"48px",marginBottom:"8px",borderRadius:"50%",cursor:"pointer"},type:"button",children:(0,d.jsx)(u.JO,{accessibilityLabel:this.props.i18n._('Continue with email', 'Sign up with email button', 'Sign up with email button'),icon:"gmail",color:"default",inline:!0,size:16})}),(0,d.jsx)(u.xv,{color:"inverse",size:"200",children:this.props.i18n._('Email', 'Icon text for continuing with email', 'Icon text for continuing with email')})]}),(0,d.jsx)(u.xu,{marginEnd:4,children:(0,d.jsx)(P,{locale:t,onFacebookConnectError:this.handleFacebookError,onFacebookConnectSuccess:this.login("facebook"),type:o,fbUseContinueAs:this.props.fbUseContinueAs,onTouch:this.handleFacebookTouch,isRerequest:n,isRounded:!0})}),(0,d.jsx)(O.Z,{onGoogleConnectSuccess:this.login("google"),onTouch:this.handleGoogleTouch,isRounded:!0})]})]})}},{key:"render",value:function(){var e=this.props,t=e.isBusiness,o=e.showTextDivider,n=e.roundButtons,i=e.showLoginButtons,r=e.secondaryAccountFlowEnabled,s=this.state,a=s.showRegisterLoading,l=s.isLoading,c=s.signupPlatform,p=t?r?6:-5:0;return(0,d.jsxs)(u.xu,{marginTop:p,maxWidth:400,marginStart:"auto",marginEnd:"auto","data-test-id":"LoginButtonsContainer",children:[o&&(0,d.jsx)(u.xu,{marginBottom:3,marginTop:3,children:(0,d.jsx)(u.xv,{align:"center",size:"100",weight:"bold",children:this.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,d.jsx)(u.xu,{marginBottom:6,children:n?this.renderRoundedButtons():this.renderRegularButtons()}),i&&this.renderFooterCTA(),l&&(a?(0,d.jsx)(U.Z,{platform:"line"===c?"default":c}):(0,d.jsx)(T.Z,{}))]})}}])&&re(t.prototype,o),i&&re(t,i),a}(n.PureComponent);de(pe,"defaultProps",{next:"/",fbUseContinueAs:!0,footerCTA:"button"});var he=(0,i.connect)((function(e,t){var o=e.session,n=e.users,i=void 0===n?{}:n;return{country:o.country,locale:o.locale,isAuthenticated:o.isAuthenticated,isLimitedLoginUser:(0,N.xT)(i[o.userId]),isTablet:o.isTablet}}),(function(){return{}}))((function(e){var t=(0,Q.k6)(),o=(0,Q.TH)(),r=(0,l.ZP)(),s=(0,ee.F9)().showToast,c=(0,i.useDispatch)(),u=e.showEmailButton,p=e.showLoginButtons,h=(0,Y.U)(),f=(0,a.tc)("mweb_unauth_signup_confirmation"),g=(0,D.B)().experiments,b=(0,Z.ZP)(),_=(0,a.tc)("desktop"===b?"web_unauth_signup_obligatory_age":"mweb_unauth_signup_obligatory_age");return(0,n.useEffect)((function(){h&&(p&&h.load(new URL("login.js","file://")),u&&h.load(new URL("signup.js","file://")))}),[]),(0,d.jsx)(pe,ne(ne({},e),{},{activateObligatoryAgeExp:_,history:t,location:o,i18n:r,isSignupConfirmationExpEnabled:f,login:function(e,t,o,n){return c((0,H.x4)(e,t,o,n))},register:function(e){return c((0,W.z)(e))},setLoginSignupFrom:function(e){return c((0,q.rm)(e))},showToast:s,deviceType:b,flushExp:function(){return g.flush()}}))}))},977981:function(e,t,o){"use strict";o.d(t,{Z:function(){return u}});var n=o(966113),i=o(898781),r=o(349700),s=o(867820),a=o(937666),l=o(908390),c=o(515198);function u(e){var t=e.isMobileHomepage,o=e.isTabletHomepage,u=e.isBusiness,d=void 0!==u&&u,p=(e.size,e.alignText),h=void 0===p?"center":p,f=(0,i.ZP)(),g=(0,a.TH)(),b=n.Z.settings.POLICY_PRIVACY_URL,_=d?n.Z.settings.PARTNER_SITE_TOS_URL:n.Z.settings.POLICY_TERMS_PLAIN_URL;return(0,c.jsx)(l.kC,{alignItems:"left"===h?"start":"center",direction:"column",justifyContent:"start",children:(0,c.jsx)(l.xv,{color:t?"inverse":o?"default":"subtle",align:"left"===h?"start":"center",size:o?"300":"100",overflow:"left"===h?"normal":"breakWord",children:(0,r.nk)(f._('By continuing, you agree to Pinterest\'s {{ termsOfService }} and acknowledge you\'ve read our {{ privacyPolicy }}', ' - ', ' -- '),{termsOfService:(0,c.jsx)("span",{"data-test-id":"business-tos",children:(0,c.jsx)(l.xv,{color:t?"inverse":o?"default":"subtle",inline:!0,size:o?"300":"100",weight:"bold",children:(0,c.jsx)(l.rU,{href:_,inline:!0,target:"blank",onClick:function(){(0,s.LW)({action:"click",pageLocation:g,item:"business-tos"})},underline:"hover",children:d?f._('Business Terms of Service', 'Mobile web business terms of service link for partners', 'Mobile web business terms of service link for partners'):f._('Terms of Service', 'Mobile web terms of service link', 'Mobile web terms of service link')})})},"termsOfService"),privacyPolicy:(0,c.jsx)("span",{"data-test-id":"privacy",children:(0,c.jsx)(l.xv,{color:t?"inverse":o?"default":"subtle",inline:!0,size:o?"300":"100",weight:"bold",children:(0,c.jsx)(l.rU,{href:b,inline:!0,target:"blank",onClick:function(){(0,s.LW)({action:"click",pageLocation:g,item:"privacy-policy"})},underline:"hover",children:f._('Privacy Policy', 'Mobile web privacy policy link', 'Mobile web privacy policy link')})})},"privacyPolicy")})})})}},169347:function(e,t,o){"use strict";o.d(t,{h:function(){return s},r:function(){return r}});var n=/^(0[1-9]|1[012])\/(0[1-9]|[12][0-9]|3[01])\/((19|20)[0-9]{2})$/,i=/^(19|20)[0-9]{2}$/,r=function(e){return n.test(e)||i.test(e)?new Date(e).getTime()/1e3:-1},s=function(e,t){var o=new Date;if(n.test(e)){var r=new Date(o.getFullYear()-t,o.getMonth(),o.getDate());return new Date(e)<=r}if(i.test(e)){var s=o.getFullYear()-t-1;return new Date(e).getFullYear()<=s}return!1}},160585:function(e,t,o){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((function(){return t[Math.floor(Math.random()*t.length)]})).join("")}o.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/76857-b15e9c2418544a9d.js.map